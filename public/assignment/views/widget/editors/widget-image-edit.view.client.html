<ng-form role="form" name="widgetForm" ng-submit="" id="widgetForm" novalidate>
    <div class="form-group">
        <label for="name"> Name</label>
        <div data-ng-show="widgetForm.name.$dirty && widgetForm.name.$error.required">
            Name is required
        </div>
        <input id="name" name="name"
               data-ng-class="{'dirty-field': widgetForm.name.$dirty && widgetForm.name.$error.required}"
               ng-model="model.widget.name" type="text" class="form-control"
               placeholder="Name" ng-required="true"/>
    </div>
    <div class="form-group">
        <label for="text">Text</label>
        <input id="text" ng-model="model.widget.text" type="text" class="form-control" placeholder="Text"/>
    </div>
    <div class="form-group">
        <label for="url">URL</label>
        <input id="url" type="text" ng-model="model.widget.url" class="form-control" placeholder="URL"/>
    </div>
    <div class="form-group">
        <label for="width">Width</label>
        <input id="width" ng-model="model.widget.width" type="text" class="form-control" placeholder="width"/>
    </div>
    <div class="form-group">
        <form id="image" action="/api/upload" method="post" enctype="multipart/form-data">
            <label for="file">Upload</label>
            <input id="file" name="myFile" type="file" class="form-control"/>
            <input name="width" value="{{model.widget.width}}" style="display: none"/>
            <input name="widgetId" value="{{model.widgetId}}" style="display: none"/>
            <input name="userId" value="{{model.userId}}" style="display: none"/>
            <input name="pageId" value="{{model.pageId}}" style="display: none"/>
            <input name="websiteId" value="{{model.websiteId}}" style="display: none"/>
            <input name="name" value="{{model.widget.name}}" style="display: none">
            <button type="submit" class="btn btn-block btn-primary">Upload Image</button>
        </form>
    </div>

    <button ng-disabled="widgetForm.$invalid" ng-hide="model.widget._id" type="button"
            ng-click="model.addWidget(model.widget);" class="btn btn-default btn-block secondary-button">Add
    </button>
    <button ng-disabled="widgetForm.$invalid" ng-show="model.widget._id" type="button"
            ng-click="model.addWidget(model.widget);" class="btn btn-default btn-block secondary-button">Update
    </button>

    <a ng-show="model.widget._id" ng-click="model.deleteWidget(model.widget._id)"
       class="btn btn-danger btn-block">Delete</a>

    <a ng-hide="model.widget._id" href="ph/website/{{model.websiteId}}/page/{{model.pageId}}/flickr"
       class="btn btn-default btn-block">Search</a>
</ng-form>